SQL TABLE : 

- Inscrit (Numéro inscrits, Nom , Prenom, Mail, MDP) 

- Ami (#Ami1, #Ami2, demande, date_dem, rep_dem) -> Contrainte d'intégrité référentielle vers Inscrit

- Note(#Inscrit, #Lieu, favoris, note) -> Contrainte d'intégrité référentielle vers Inscrit et Lieu

- Lieu(id_lieu, Type, NoteMoy, Adresse)



--
-- Base de donnees :  `miap_bdd`
--

CREATE TABLE IF NOT EXISTS `inscrit` (
  `id_ins` int(11) NOT NULL AUTO_INCREMENT,
  `nom` text COLLATE utf8_bin,
  `prenom` text COLLATE utf8_bin,
  `mail` text COLLATE utf8_bin NOT NULL,
  `mdp` text COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`id_ins`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

CREATE TABLE IF NOT EXISTS `lieu` (
  `id_lieu` int(11) NOT NULL AUTO_INCREMENT,
  `type` text COLLATE utf8_bin,
  `noteMoy` float,
  `adresse` text COLLATE utf8_bin,
  PRIMARY KEY (`id_lieu`)
);

CREATE TABLE IF NOT EXISTS `ami` (
  `ami1` int(11) NOT NULL,
  `ami2` int(11) NOT NULL,
  `demande` CHAR(1),
  `date_dem` date,
  `rep_dem` CHAR(1),
  PRIMARY KEY (`ami1,ami2`)
);

CREATE TABLE IF NOT EXISTS `note` (
  `incrit` int(11) NOT NULL,
  `lieu` int(11) NOT NULL,
  `favoris` CHAR(1),
  `note` int(11),
  PRIMARY KEY (`inscrit, lieu`)
);

